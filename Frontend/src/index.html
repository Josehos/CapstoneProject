<!DOCTYPE html>
<html>
<head>
    <script type="text/javascript" src="indexPage.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.3/font/bootstrap-icons.css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css" />
    <link rel="stylesheet" type="text/css" href="css/style.css" />
</head>
<body style="background-image: url('images/cooking-background.jpg'); background-size: cover; padding-top: 65px">
<nav class="navbar navbar-expand navbar-dark bg-primary fixed-top">
    <div class="container-fluid">
        <span class="navbar-brand mb-0 h1">CookIt</span>
        <div class="collapse navbar-collapse" id="collapsibleNavbar">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a id="home" class="nav-link" href="#">Home</a>
                </li>
                <li class="nav-item">
                    <a id="editUserAccount" class="nav-link" href="#">Edit Your Account</a>
                </li>
                <li class="nav-item">
                    <a id="deleteUserAccount" class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#deleteModal">Delete Account</a>
                </li>
                <li class="nav-item">
                    <a id="logout" class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#logoutModal">Logout</a>
                </li>
            </ul>
        </div>
        <h5 id="welcome" style="color: white; display: none; margin-bottom: inherit;"></h5>
    </div>
</nav>
<!-- Login Modal -->
<div class="modal" id="loginModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header text-center bg-primary" style="color: white;">
                <h5 class="modal-title w-100">Welcome to CookIt!</h5>
            </div>
            <div class="modal-body text-center">
                <form id="loginForm" class="row g-3">
                    <div class="col-12">
                        <input type="text" class="form-control" id="loginUsername" style="text-transform: uppercase" placeholder="Username (20 char max)" maxlength="20"
                               required />
                    </div>
                    <div class="col-12">
                        <button id="loginSubmitButton" type="submit" class="btn btn-primary">Log In</button>
                        <button id="loginLoadingButton" class="btn btn-primary" type="button" disabled style="display: none;">
                            <span class="spinner-grow spinner-grow-sm" role="status"></span>
                            Submitting...
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<!-- Create User Modal -->
<div class="modal" id="createUserModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header text-center bg-primary" style="color: white;">
                <h5 class="modal-title w-100">No account exists for that username.<br>Click 'Cancel' to
                    return to the log in screen to enter a different username, or complete the fields below to create a user account.</h5>
            </div>
            <div class="modal-body">
                <form id="createUserForm" class="row g-3">
                    <h5>Username</h5>
                    <div class="col-12">
                        <input id="createUsername" type="text" class="form-control" disabled />
                    </div>
                    <h5>Dietary Intolerances (can be added or edited later)</h5>
                    <div class="col-12">
                        <div class="form-check form-check-inline">
                            <input class="form-check-input shadow-none" type="checkbox" id="createRestriction0" value="dairy">
                            <label class="form-check-label" for="createRestriction0">Dairy</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input shadow-none" type="checkbox" id="createRestriction1" value="egg">
                            <label class="form-check-label" for="createRestriction1">Egg</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input shadow-none" type="checkbox" id="createRestriction2" value="gluten">
                            <label class="form-check-label" for="createRestriction2">Gluten</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input shadow-none" type="checkbox" id="createRestriction3" value="grain">
                            <label class="form-check-label" for="createRestriction3">Grain</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input shadow-none" type="checkbox" id="createRestriction4" value="peanut">
                            <label class="form-check-label" for="createRestriction4">Peanut</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input shadow-none" type="checkbox" id="createRestriction5" value="seafood">
                            <label class="form-check-label" for="createRestriction5">Seafood</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input shadow-none" type="checkbox" id="createRestriction6" value="sesame">
                            <label class="form-check-label" for="createRestriction6">Sesame</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input shadow-none" type="checkbox" id="createRestriction7" value="shellfish">
                            <label class="form-check-label" for="createRestriction7">Shellfish</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input shadow-none" type="checkbox" id="createRestriction8" value="soy">
                            <label class="form-check-label" for="createRestriction8">Soy</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input shadow-none" type="checkbox" id="createRestriction9" value="sulfite">
                            <label class="form-check-label" for="createRestriction9">Sulfite</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input shadow-none" type="checkbox" id="createRestriction10" value="wheat">
                            <label class="form-check-label" for="createRestriction10">Wheat</label>
                        </div>
                    </div>
                    <div class="col-12 text-center">
            <span id="createUserButtons">
              <button id="createUserCancelButton" type="button" class="btn btn-primary">Cancel</button>
              <button id="createUserSubmitButton" type="submit" class="btn btn-primary">Submit</button>
            </span>
                        <button id="createUserSubmittingButton" class="btn btn-primary" type="button" disabled style="display: none;">
                            <span class="spinner-grow spinner-grow-sm" role="status"></span>
                            Submitting...
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<!-- Update User Modal -->
<div class="modal" id="updateUserModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header text-center bg-primary" style="color: white;">
                <h5 class="modal-title w-100">Edit Dietary Intolerances</h5>
            </div>
            <div class="modal-body">
                <form id="updateUserForm" class="row g-3">
                    <h5>Dietary Intolerances</h5>
                    <div class="col-12">
                        <div class="form-check form-check-inline">
                            <input class="form-check-input shadow-none" type="checkbox" id="updateRestriction0" value="dairy">
                            <label class="form-check-label" for="updateRestriction0">Dairy</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input shadow-none" type="checkbox" id="updateRestriction1" value="egg">
                            <label class="form-check-label" for="updateRestriction1">Egg</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input shadow-none" type="checkbox" id="updateRestriction2" value="gluten">
                            <label class="form-check-label" for="updateRestriction2">Gluten</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input shadow-none" type="checkbox" id="updateRestriction3" value="grain">
                            <label class="form-check-label" for="updateRestriction3">Grain</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input shadow-none" type="checkbox" id="updateRestriction4" value="peanut">
                            <label class="form-check-label" for="updateRestriction4">Peanut</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input shadow-none" type="checkbox" id="updateRestriction5" value="seafood">
                            <label class="form-check-label" for="updateRestriction5">Seafood</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input shadow-none" type="checkbox" id="updateRestriction6" value="sesame">
                            <label class="form-check-label" for="updateRestriction6">Sesame</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input shadow-none" type="checkbox" id="updateRestriction7" value="shellfish">
                            <label class="form-check-label" for="updateRestriction7">Shellfish</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input shadow-none" type="checkbox" id="updateRestriction8" value="soy">
                            <label class="form-check-label" for="updateRestriction8">Soy</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input shadow-none" type="checkbox" id="updateRestriction9" value="sulfite">
                            <label class="form-check-label" for="updateRestriction9">Sulfite</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input shadow-none" type="checkbox" id="updateRestriction10" value="wheat">
                            <label class="form-check-label" for="createRestriction10">Wheat</label>
                        </div>
                    </div>
                    <div class="col-12 text-center">
                        <span id="updateUserButtons">
                            <button id="updateUserCancelButton" type="button" class="btn btn-primary">Cancel</button>
                            <button id="updateUserSubmitButton" type="submit" class="btn btn-primary">Submit</button>
                        </span>
                        <button id="updateUserSubmittingButton" class="btn btn-primary" type="button" disabled style="display: none;">
                            <span class="spinner-grow spinner-grow-sm" role="status"></span>
                            Submitting...
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<!-- Recipes Container -->
<div id="recipesContainer" style="display: none;">
    <!-- Random Recipes Table -->
    <div id="randomRecipes" class="container bg-white rounded-3 mt-3 pb-3" style="width: 75%; display: none;">
        <div style="text-align: center;">
            <h4 style="padding-top: 10px;">Cook Something New Today</h4>
            <h6>Random Recipes Based on Your Dietary Restrictions. Click recipe title to open it.</h6>
        </div>
        <div style="overflow: auto;">
            <table class="table table-hover">
                <thead class="table-primary" style="position: sticky; top: 0;">
                <tr>
                    <th style="position: sticky; top: 0;"></th>
                    <th style="position: sticky; top: 0;">Title</th>
                    <th style="position: sticky; top: 0;">Dish Type(s)</th>
                    <th style="position: sticky; top: 0;">Favorites</th>
                </tr>
                </thead>
                <tbody id="randomRecipesYes">
                </tbody>
            </table>
            <h6 id="randomRecipesNo" style="text-align: center;">No Recipes</h6>
        </div>
    </div>
    <!-- Favorite Recipes Table -->
    <div id="favoriteRecipes" class="container bg-white rounded-3 mt-3 pb-3" style="width: 75%; display: none;">
        <div style="text-align: center;">
            <h4 style="padding-top: 10px;">Favorite Recipes</h4>
            <!--            <h6>Random Recipes Based on Your Dietary Restrictions. Click recipe title to open it.</h6>-->
        </div>
        <div style="overflow: auto;">
            <table class="table table-hover">
                <thead class="table-primary" style="position: sticky; top: 0;">
                <tr>
                    <th style="position: sticky; top: 0;"></th>
                    <th style="position: sticky; top: 0;">Title</th>
                    <th style="position: sticky; top: 0;">Dish Type(s)</th>
                    <th style="position: sticky; top: 0;">Favorites</th>
                </tr>
                </thead>
                <tbody id="favoriteRecipesYes">
                </tbody>
            </table>
            <h6 id="favoriteRecipesNo" style="text-align: center;">No Recipes</h6>
        </div>
    </div>
    <!-- Search Recipes -->
    <div id="searchRecipes" class="container bg-white rounded-3 mt-3 pb-3" style="width: 75%;">
        <div style="text-align: center;">
            <h4 style="padding-top: 10px;">Search For Recipes with Ingredients On Hand</h4><br>
        </div>
        <div>
            <form id="recipeWithIngredients" class="row g-3">
                <div class="col-4 text-center">
                    <input type="text" id="ingredient" name="ingredient" placeholder="Ingredient">
                    <button id="addIngredient" type="button" class="btn btn-primary shadow-none">Add Ingredient</button>
                </div>
                <div class="col-8">
                    <input type="text" id="ingredients" placeholder="Ingredients On Hand" size="70" readonly>
                    <button id="clearIngredients" type="button" class="btn btn-primary shadow-none">Clear</button>
                    <button id="searchRecipesButton" type="button" class="btn btn-primary shadow-none">Submit</button>
                </div>
            </form>
        </div>
        <div class="col-12 d-flex justify-content-center">
            <button id="searchLoadingButton" class="btn btn-primary" type="button" disabled style="display: none;">
                <span class="spinner-grow spinner-grow-sm" role="status"></span>
                Searching...
            </button>
        </div>
    </div>
    <!-- Search Recipes Table -->
    <div id="searchedRecipes" class="container bg-white rounded-3 mt-3 pb-3" style="width: 75%; display: none;">
        <div style="text-align: center;">
            <h4 style="padding-top: 10px;">Here Are Some Recipes Based on Entered Ingredients and Your Intolerances</h4>
            <h6>Click recipe title to open it.</h6>
        </div>
        <div style="overflow: auto;">
            <table class="table table-hover">
                <thead class="table-primary" style="position: sticky; top: 0;">
                <tr>
                    <th style="position: sticky; top: 0;"></th>
                    <th style="position: sticky; top: 0;">Title</th>
                </tr>
                </thead>
                <tbody id="searchedRecipesYes">
                </tbody>
            </table>
            <h6 id="searchedRecipesNo" style="text-align: center;">No Recipes</h6>
        </div>
    </div>
</div>

<!-- Logout Modal -->
<div class="modal" id="logoutModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header text-center bg-primary" style="color: white;">
                <h5 class="modal-title w-100">Are you sure you want to log out?</h5>
            </div>
            <div class="modal-body">
                <form id="logoutForm" class="row g-3">
                    <div class="col-12 text-center">
                        <button id="logoutCancelButton" type="button" class="btn btn-primary">No</button>
                        <button id="logoutButton" type="submit" class="btn btn-primary">Yes</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Delete Modal -->
<div class="modal" id="deleteModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header text-center bg-primary" style="color: white;">
                <h5 class="modal-title w-100">Are you sure you want to delete your account?</h5>
            </div>
            <div class="modal-body">
                <form id="deleteForm" class="row g-3">
                    <div class="col-12 text-center">
                        <button id="deleteCancelButton" type="button" class="btn btn-primary">No</button>
                        <button id="deleteButton" type="submit" class="btn btn-primary">Yes</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
</body>
</html>
